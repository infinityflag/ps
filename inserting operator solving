#include <iostream>
#include <algorithm>
#include <iomanip>
#include <queue>
#include <stack>
#include <set>
#include <map>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <stdlib.h>
#include <cstring>
#include <cmath>
#include <math.h>
#include <string>
typedef long long ll;
using namespace std;
//char a[100];
int a[1000000];
int sy[5];
int f(int idx,int sum, int plus, char c){
    f(idx, i+1,);
    for(int i=0;i<4;i++){
        if(sy[i]){
            f(idx+1, sum, plus, c);


            sy[i]--;
        }
        f(idx+1,sum + a[i], );
        f(idx+1,sum - a[i], );
    }
}


int main() {
    ios_base::sync_with_stdio(0); cin.tie(0);
    int n,m;
    cin >> n >> m;
    for(int i=0;i<4;i++){
        cin >> sy[i];
    }
}




second try 


#include <iostream>
#include <algorithm>
#include <iomanip>
#include <queue>
#include <stack>
#include <set>
#include <map>
#include <cstdlib>
#include <cstdio>
#include <vector>
#include <stdlib.h>
#include <cstring>
#include <cmath>
#include <math.h>
#include <string>
typedef long long ll;
using namespace std;
//char a[100];
int a[1000000];
int sy[5];
int n,m;
int maxn = -1e9;
int minn = 1e9;
int ret1 = -1e9;
int ret2 = 1e9;
void f(int idx){
    int sum = a[0];
    if(idx == n){
        maxn = max(sum, maxn);
        minn = min(minn, sum);
        return;
    }
    for(int i=0;i<4;i++){
        int ii; 
        if(sy[i]>0){
            if(i==0){
                sum += a[i+1]; 
                sy[0]--;
                ii=0;
            }
            if(i==1){
                sum -= a[i+1];
                sy[1]--;
                ii=1;
            }
            if(i==2){
                sum *= a[i+1];
                sy[2]--;
                ii=2;
            }
            if(i==3){
                sum /= a[i+1];
                sy[3]--;
                ii=3;
            }
        }
        //sy[i]--; 
        f(idx+1);
        sy[ii]++;
        ret1 = max(ret1, sum);
        ret2 = min(ret2, sum);
        //sy[i]++;
    }
}


int main() {
    ios_base::sync_with_stdio(0); cin.tie(0);
    cin >> n;
    for(int i=0;i<n;i++){
        cin >> a[i];
    }
    for(int i=0;i<4;i++){
        cin >> sy[i];
    }
    f(0);
    cout << ret1<< '\n' << ret2;
}
